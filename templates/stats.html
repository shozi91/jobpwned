<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes"> -->
    <title>Web Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}"">
    <!-- Font Awesome -->
    <link rel=" stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://bootswatch.com/4/cyborg/bootstrap.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.0.0/math.min.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <!-- <link rel="stylesheet" href="../static/css/styles.css"> -->

</head>

<body>

    {% include 'navbar.html' %}

    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <div class="jumbotron-custom jumbotron-fluid">
                    <h1 class="text-center">
                        High Level Statistics
                    </h1>
                    <hr class="my-4-c">

                    <div class="row">
                        <div class="col" style="text-align: center;">
                            <h5>Sample images from dataset:</h5>
                            <img class="img-fluid rounded"
                                src="{{ url_for('static', filename='img/xraysample.png') }}"
                                alt="A small sample of chest x-rays in both children and adult">
                            <br>
                            <p>
                                A small sample of chest x-rays in both children and adult

                                <!-- The above sixteen images are a small sample of chest x-rays in both children and adults, with results showing normal or opaque.
                    It should be noted as well that these images above are the result of having been uniformly resized to be used in analysis. 
                    These 16 images here are also the first batch of pictures to be run through the model. -->
                            </p>
                        </div>
                    </div>

                    <div class="row">

                        <div class="col-6" style="text-align: center;">
                            


                            <div class="row ">
                                <div class="col">
                                    <h5>Dataset split between normal and opaque:</h5>
                                    <img class="img-fluid rounded"
                                        src="{{ url_for('static', filename='img/xraydataset.png') }}"
                                        alt="Stacked Barchart showing different datasets, and whether image shows normal or opaque lung">
                                    <br>
                                    <p>
                                        Stacked Barchart showing different datasets, and whether image shows normal or
                                        opaque
                                        lung


                                        <!-- Quick visualization of the number of datapoints we used to train, validate, and test our model.
                        There are two classifications here, normal (which is healthy) and opaque (meaning there is some sort of issue).
                        Since we are building a tool geared towards medical purposes, the majority of our data is opaque.
                        The logic for this is to catch as many and all features which could result in a True Positive for an individual having
                        sort of affliction of the lung. We would much rather provide a result which is a false positive, than a false negative. -->
                                    </p>
                                </div>

                            </div>


                            <div class="row">
                                <div class="col">
                                    <h5>First 50 Epochs' Accuracy Values:</h5>
                                    <img class="img-fluid rounded"
                                        src="{{ url_for('static', filename='img/accu50epoch.png') }}"
                                        alt="Line chart of model accuracy after 50 epochs">
                                    <br>
                                    <p>
                                        Line chart of model accuracy after 50 epochs


                                        <!-- For the purposes of this demonstration, with time and computing resources at the top of mind, we have decided to visualize the results of the
                        first fifty epochs when training the model. 
                        We can see that as far as accuracy goes, we can see that by the time 50 epochs were completed, our model's accuracy reached approximately 94% or so,
                        with the validation showing that it is rather consistent.
                        Running for an additional 550 epochs on this single model alone has resulted in 96.9% accuracy -->


                                    </p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col">
                                    <h5>First 50 Epochs' Loss Values:</h5>
                                    <img class="img-fluid rounded"
                                        src="{{ url_for('static', filename='img/loss50epoch.png') }}"
                                        alt="Line chart of model loss after 50 epochs">
                                    <br>
                                    <p>
                                        Line chart of model loss after 50 epochs

                                        <!-- When we look at the loss after 50 epochs, from a training standpoint, we're sitting around 0.18, already this score for loss is too high for our standards.
                            As we look at the results on the validation for the first 50 epochs, we can see the erratic behaviour, which just goes to show that our model is not yet
                            well trained.
                            After another 550 epochs though, we can see that our loss consistently reached around 0.08.
                            When looking at both accuracy and loss though, we can see that the even at 600 epochs, there is still room for improvement,
                            The greatest constraints at the end of the day is time, and computational resources-->
                                    </p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col">
                                    <h5>Confusion Matrix:</h5>
                                    <img class="img-fluid rounded"
                                        src="{{ url_for('static', filename='img/confusionmatrix.png') }}"
                                        alt="Confusion matrix of test results">
                                    <br>
                                    <p>
                                        The confusion matrix of the test results

                                        <!-- The confusion matrix here shows the results of the tests we have run. There are essentially 4 results to be had, 
                            true positives and true negatives, as well as false positives and false negatives.
                            Of the 770 images tested, 654 were predicted correctly. This is a 85% success rate. 
                            
                            Of the results which were incorrectly predicted, we had 86 false positives. Realistically, we are not too concerned with false positives.
                            Reason being is that it's better to be "overly cautious," and double check a result.
                            This would be opposed to the false negatives, which the model spits out. 
                            Of the 464 actual sick cases, 6.4% of our results came up as a false negative. However, we also set our confidence interval to 60%, wherein results
                            showing less than 60% would result in a message from us stating we are not confident enough to make a diagnosis.
                        -->
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="col-6" style="text-align: center;">
                            <h5>Flow chart of convolutional neural network utilized:</h5>
                            <img class="img-fluid rounded" src="{{ url_for('static', filename='img/model_plot.png') }}"
                                alt="Flow chart of convolutional neural network used for training and testing">
                            <br>
                            <p>
                                Flow chart of convolutional neural network used for training and testing

                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    {% include 'footer.html' %}

</body>



</html>